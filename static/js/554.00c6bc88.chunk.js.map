{"version":3,"file":"static/js/554.00c6bc88.chunk.js","mappings":"oNACA,GAAgB,UAAY,6BAA6B,QAAU,2BAA2B,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,OAAS,0BAA0B,KAAO,wBAAwB,SAAW,4BAA4B,KAAO,wBAAwB,IAAM,wB,mGCWrUA,EAAKC,IAAAA,KAAgBC,GA6C3B,MA5CA,YAAkC,IAATC,EAAQ,EAARA,KAEbC,GADSD,EAATE,MACSC,EAAAA,EAAAA,YAAWC,EAAAA,GAApBH,MACAI,GAAWF,EAAAA,EAAAA,YAAWG,EAAAA,GAAtBD,OACFE,GAAWC,EAAAA,EAAAA,UACjB,OACI,SAAC,KAAD,CAAMC,GAAG,aAAT,UACI,iBACIC,UAAWb,EAAG,QACdc,YAAa,WACTJ,GAAYA,EAASK,QAAQC,MAChC,EACDC,WAAY,WACRP,GAAYA,EAASK,QAAQG,OAChC,EAPL,WASI,kBACIL,UAAWb,EAAG,SACdmB,IAAKhB,EAAKiB,cAAcC,SACxBC,aAAc,SAACC,GACXA,EAAEC,OAAOhB,OAASA,CACrB,EACDiB,IAAKf,KAET,iBAAKG,UAAWb,EAAG,QAAnB,WACI,SAAC0B,EAAA,EAAD,CAAOP,IAAKhB,EAAKwB,OAAQd,UAAWb,EAAG,UAAW4B,KAAM,UACxD,eAAIf,UAAWb,EAAG,QAAlB,SAA4BG,EAAK0B,WAAa1B,EAAK2B,aACnD,gBAAIjB,UAAWb,EAAG,YAAlB,UACKG,EAAK4B,SACL5B,EAAK6B,OACF,iBAAMnB,UAAWb,EAAG,QAApB,UACI,SAAC,IAAD,CAAiBa,UAAWb,EAAG,QAASiC,KAAMC,EAAAA,YAI1D,SAACC,EAAA,EAAD,CAAQC,SAAO,EAACvB,UAAWb,EAAG,OAAQqC,QAASjC,EAA/C,2BAOnB,E,oBC9CKJ,EAAKC,IAAAA,KAAgBC,GA8C3B,MA5CA,WACI,OAAwBoC,EAAAA,EAAAA,UAAS,IAAjC,eAAOnC,EAAP,KAAaoC,EAAb,KACA,GAA0BD,EAAAA,EAAAA,UAAS,GAAnC,eAAOE,EAAP,KAAcC,EAAd,KACMC,GAAe/B,EAAAA,EAAAA,UACfgC,EAAY,yCAAG,2IAAc,UAC/BC,OAAOC,oBAAoB,SAAUC,GADpB,UAEEC,EAAAA,EAAAA,GAAWP,GAFb,OAEXrC,EAFW,OAGjB6C,QAAQC,IAAI9C,GACZoC,GAAQ,SAACW,GACL,MAAM,GAAN,eAAWA,IAAX,OAAoB/C,GACvB,IAEDyC,OAAOO,iBAAiB,SAAUL,GARjB,2CAAH,sDAUlBM,EAAAA,EAAAA,YAAU,WAIN,OAHAT,EAAa,WACbC,OAAOO,iBAAiB,SAAUL,GAE3BF,OAAOC,oBAAoB,SAAUC,EAC/C,GAAE,CAACN,IACJ,IAAMM,EAAkB,WACpB,IAAIO,EAASX,EAAa3B,QAAQuC,aAC9BD,EAAS,GAAKE,SAASC,gBAAgBC,UAAYJ,EAAS,KAC5DZ,EAASD,EAAQ,EAExB,EACOkB,GAAYpD,EAAAA,EAAAA,YAAWqD,EAAAA,GAAvBD,QACR,OACI,gBAAKjC,IAAKiB,EAAc7B,UAAWb,EAAG,aAAtC,SACK0D,GACG,SAAC,EAAAE,SAAD,WACI,SAACC,EAAA,QAAD,OAGJ,gBAAKhD,UAAWb,EAAG,WAAnB,SACKG,EAAK2D,KAAI,SAAC3D,EAAM4D,GAAP,OACN,SAAC,EAAD,CAA2B5D,KAAMA,GAAb4D,EADd,OAO7B,C","sources":["webpack://tiktok/./src/pages/Following/Following.module.scss?cc67","pages/Following/FollowingItem.js","pages/Following/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"following\":\"Following_following__NIB90\",\"wrapper\":\"Following_wrapper__HDqeY\",\"item\":\"Following_item__w5EnX\",\"video\":\"Following_video__jm1I4\",\"desc\":\"Following_desc__vWPok\",\"avatar\":\"Following_avatar__0gQ3P\",\"name\":\"Following_name__RoepR\",\"nickname\":\"Following_nickname__UzApm\",\"tick\":\"Following_tick__yUPHe\",\"btn\":\"Following_btn__u9OB5\"};","import { Link } from 'react-router-dom';\r\n\r\nimport classNames from 'classnames/bind';\r\nimport styles from './Following.module.scss';\r\nimport Image from '~/components/Image';\r\nimport Button from '~/layouts/Button';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { useContext, useRef } from 'react';\r\nimport { Vol } from '~/Context/VolContext';\r\nimport { Modal } from '~/Context/ModalContext';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction FollowingItem({ data }) {\r\n    const { user } = data;\r\n    const { show } = useContext(Modal);\r\n    const { volume } = useContext(Vol);\r\n    const videoRef = useRef();\r\n    return (\r\n        <Link to=\"/following\">\r\n            <div\r\n                className={cx('item')}\r\n                onMouseMove={() => {\r\n                    videoRef && videoRef.current.play();\r\n                }}\r\n                onMouseOut={() => {\r\n                    videoRef && videoRef.current.pause();\r\n                }}\r\n            >\r\n                <video\r\n                    className={cx('video')}\r\n                    src={data.popular_video.file_url}\r\n                    onTimeUpdate={(e) => {\r\n                        e.target.volume = volume;\r\n                    }}\r\n                    ref={videoRef}\r\n                />\r\n                <div className={cx('desc')}>\r\n                    <Image src={data.avatar} className={cx('avatar')} size={'48px'} />\r\n                    <h5 className={cx('name')}>{data.first_name + data.last_name}</h5>\r\n                    <h6 className={cx('nickname')}>\r\n                        {data.nickname}\r\n                        {data.tick && (\r\n                            <span className={cx('tick')}>\r\n                                <FontAwesomeIcon className={cx('icon')} icon={faCheck} />\r\n                            </span>\r\n                        )}\r\n                    </h6>\r\n                    <Button primary className={cx('btn')} onClick={show}>\r\n                        Follow\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n\r\nexport default FollowingItem;\r\n","import classNames from 'classnames/bind';\r\nimport styles from './Following.module.scss';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport { Login } from '~/Context/LoginContext';\r\nimport { Fragment } from 'react';\r\nimport FollowingItem from './FollowingItem';\r\nimport { getAccount } from '~/services/getSuggestAccount';\r\nimport Home from '../Home';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Following() {\r\n    const [data, setData] = useState([]);\r\n    const [count, setCount] = useState(1);\r\n    const followingRef = useRef();\r\n    const getFollowing = async (type = 'for-you') => {\r\n        window.removeEventListener('scroll', handleLoadVideo);\r\n        const data = await getAccount(count);\r\n        console.log(data);\r\n        setData((prev) => {\r\n            return [...prev, ...data];\r\n        });\r\n\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n    };\r\n    useEffect(() => {\r\n        getFollowing('for-you');\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n\r\n        return window.removeEventListener('scroll', handleLoadVideo);\r\n    }, [count]);\r\n    const handleLoadVideo = () => {\r\n        let height = followingRef.current.scrollHeight;\r\n        if (height > 0 && document.documentElement.scrollTop > height - 900) {\r\n            setCount(count + 1);\r\n        }\r\n    };\r\n    const { isLogin } = useContext(Login);\r\n    return (\r\n        <div ref={followingRef} className={cx('following')}>\r\n            {isLogin ? (\r\n                <Fragment>\r\n                    <Home />\r\n                </Fragment>\r\n            ) : (\r\n                <div className={cx('wrapper')}>\r\n                    {data.map((data, index) => (\r\n                        <FollowingItem key={index} data={data} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Following;\r\n"],"names":["cx","classNames","styles","data","show","user","useContext","Modal","volume","Vol","videoRef","useRef","to","className","onMouseMove","current","play","onMouseOut","pause","src","popular_video","file_url","onTimeUpdate","e","target","ref","Image","avatar","size","first_name","last_name","nickname","tick","icon","faCheck","Button","primary","onClick","useState","setData","count","setCount","followingRef","getFollowing","window","removeEventListener","handleLoadVideo","getAccount","console","log","prev","addEventListener","useEffect","height","scrollHeight","document","documentElement","scrollTop","isLogin","Login","Fragment","Home","map","index"],"sourceRoot":""}