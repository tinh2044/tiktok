"use strict";(self.webpackChunktiktok=self.webpackChunktiktok||[]).push([[554,285],{3334:function(e,n,o){o.r(n),o.d(n,{default:function(){return Z}});var t=o(4165),r=o(2982),i=o(5861),s=o(885),a=o(9448),l=o.n(a),c={following:"Following_following__NIB90",wrapper:"Following_wrapper__HDqeY",item:"Following_item__w5EnX",video:"Following_video__jm1I4",desc:"Following_desc__vWPok",avatar:"Following_avatar__0gQ3P",name:"Following_name__RoepR",nickname:"Following_nickname__UzApm",tick:"Following_tick__yUPHe",btn:"Following_btn__u9OB5"},u=o(2791),d=o(1313),m=o(1087),f=o(5839),v=o(9625),_=o(4483),w=o(1632),p=o(3395),g=o(5263),x=o(184),h=l().bind(c);var k=function(e){var n=e.data,o=(n.user,(0,u.useContext)(g.u).show),t=(0,u.useContext)(p.i).volume,r=(0,u.useRef)();return(0,x.jsx)(m.rU,{to:"/following",children:(0,x.jsxs)("div",{className:h("item"),onMouseMove:function(){r&&r.current.play()},onMouseOut:function(){r&&r.current.pause()},children:[(0,x.jsx)("video",{className:h("video"),src:n.popular_video.file_url,onTimeUpdate:function(e){e.target.volume=t},ref:r}),(0,x.jsxs)("div",{className:h("desc"),children:[(0,x.jsx)(f.Z,{src:n.avatar,className:h("avatar"),size:"48px"}),(0,x.jsx)("h5",{className:h("name"),children:n.first_name+n.last_name}),(0,x.jsxs)("h6",{className:h("nickname"),children:[n.nickname,n.tick&&(0,x.jsx)("span",{className:h("tick"),children:(0,x.jsx)(_.G,{className:h("icon"),icon:w.LEp})})]}),(0,x.jsx)(v.Z,{primary:!0,className:h("btn"),onClick:o,children:"Follow"})]})]})})},j=o(9559),F=o(5713),N=l().bind(c);var Z=function(){var e=(0,u.useState)([]),n=(0,s.Z)(e,2),o=n[0],a=n[1],l=(0,u.useState)(1),c=(0,s.Z)(l,2),m=c[0],f=c[1],v=(0,u.useRef)(),_=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n,o=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:"for-you",window.removeEventListener("scroll",w),e.next=4,(0,j.D)(m);case 4:n=e.sent,console.log(n),a((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),window.addEventListener("scroll",w);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){return _("for-you"),window.addEventListener("scroll",w),window.removeEventListener("scroll",w)}),[m]);var w=function(){var e=v.current.scrollHeight;e>0&&document.documentElement.scrollTop>e-900&&f(m+1)},p=(0,u.useContext)(d.m).isLogin;return(0,x.jsx)("div",{ref:v,className:N("following"),children:p?(0,x.jsx)(u.Fragment,{children:(0,x.jsx)(F.default,{})}):(0,x.jsx)("div",{className:N("wrapper"),children:o.map((function(e,n){return(0,x.jsx)(k,{data:e},n)}))})})}}}]);
//# sourceMappingURL=554.00c6bc88.chunk.js.map