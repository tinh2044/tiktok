{"version":3,"file":"static/js/334.2f6759ed.chunk.js","mappings":"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","sources":["webpack://tiktok/./src/pages/Following/Following.module.scss?cc67","pages/Following/FollowingItem.js","pages/Following/index.js","components/Share/index.js","webpack://tiktok/./src/components/Share/Share.module.scss?b570","components/VideoItem/index.js","webpack://tiktok/./src/components/VideoItem/VideoItem.module.scss?bf8a","services/videoServices.js","pages/Home/index.js","webpack://tiktok/./src/pages/Home/Home.module.scss?ce6f"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"following\":\"Following_following__NIB90\",\"wrapper\":\"Following_wrapper__HDqeY\",\"item\":\"Following_item__w5EnX\",\"video\":\"Following_video__jm1I4\",\"desc\":\"Following_desc__vWPok\",\"avatar\":\"Following_avatar__0gQ3P\",\"name\":\"Following_name__RoepR\",\"nickname\":\"Following_nickname__UzApm\",\"tick\":\"Following_tick__yUPHe\",\"btn\":\"Following_btn__u9OB5\"};","import { Link } from 'react-router-dom';\r\n\r\nimport classNames from 'classnames/bind';\r\nimport styles from './Following.module.scss';\r\nimport Image from '~/components/Image';\r\nimport Button from '~/layouts/Button';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { useContext, useRef } from 'react';\r\nimport { Vol } from '~/Context/VolContext';\r\nimport { Modal } from '~/Context/ModalContext';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction FollowingItem({ data }) {\r\n    const { user } = data;\r\n    const { show } = useContext(Modal);\r\n    const { volume } = useContext(Vol);\r\n    const videoRef = useRef();\r\n    return (\r\n        <Link to=\"/following\">\r\n            <div\r\n                className={cx('item')}\r\n                onMouseMove={() => {\r\n                    videoRef && videoRef.current.play();\r\n                }}\r\n                onMouseOut={() => {\r\n                    videoRef && videoRef.current.pause();\r\n                }}\r\n            >\r\n                <video\r\n                    className={cx('video')}\r\n                    src={data.popular_video.file_url}\r\n                    onTimeUpdate={(e) => {\r\n                        e.target.volume = volume;\r\n                    }}\r\n                    ref={videoRef}\r\n                />\r\n                <div className={cx('desc')}>\r\n                    <Image src={data.avatar} className={cx('avatar')} size={'48px'} />\r\n                    <h5 className={cx('name')}>{data.first_name + data.last_name}</h5>\r\n                    <h6 className={cx('nickname')}>\r\n                        {data.nickname}\r\n                        {data.tick && (\r\n                            <span className={cx('tick')}>\r\n                                <FontAwesomeIcon className={cx('icon')} icon={faCheck} />\r\n                            </span>\r\n                        )}\r\n                    </h6>\r\n                    <Button primary className={cx('btn')} onClick={show}>\r\n                        Follow\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n\r\nexport default FollowingItem;\r\n","import classNames from 'classnames/bind';\r\nimport styles from './Following.module.scss';\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport { Login } from '~/Context/LoginContext';\r\nimport { Fragment } from 'react';\r\nimport FollowingItem from './FollowingItem';\r\nimport { getAccount } from '~/services/getSuggestAccount';\r\nimport Home from '../Home';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Following() {\r\n    const [data, setData] = useState([]);\r\n    const [count, setCount] = useState(1);\r\n    const followingRef = useRef();\r\n    const getFollowing = async (type = 'for-you') => {\r\n        window.removeEventListener('scroll', handleLoadVideo);\r\n        const data = await getAccount(count);\r\n        console.log(data);\r\n        setData((prev) => {\r\n            return [...prev, ...data];\r\n        });\r\n\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n    };\r\n    useEffect(() => {\r\n        getFollowing('for-you');\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n\r\n        return window.removeEventListener('scroll', handleLoadVideo);\r\n    }, [count]);\r\n    const handleLoadVideo = () => {\r\n        let height = followingRef.current.scrollHeight;\r\n        if (height > 0 && document.documentElement.scrollTop > height - 900) {\r\n            setCount(count + 1);\r\n        }\r\n    };\r\n    const { isLogin } = useContext(Login);\r\n    return (\r\n        <div ref={followingRef} className={cx('following')}>\r\n            {isLogin ? (\r\n                <Fragment>\r\n                    <Home />\r\n                </Fragment>\r\n            ) : (\r\n                <div className={cx('wrapper')}>\r\n                    {data.map((data, index) => (\r\n                        <FollowingItem key={index} data={data} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Following;\r\n","import { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronDown, faChevronUp } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport classNames from 'classnames/bind';\r\nimport styles from './Share.module.scss';\r\nimport { useState } from 'react';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction Share({ data }) {\r\n    const [listData, setListData] = useState(data.slice(0, 4));\r\n    const [isMore, setIsMore] = useState(false);\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            {listData.map((item, index) => {\r\n                return (\r\n                    <Link key={index} className={cx('item')}>\r\n                        <div style={{ backgroundColor: item.bgc }} className={cx('icon')}>\r\n                            {item.icon}\r\n                        </div>\r\n                        <p className={cx('title')}>{item.title}</p>\r\n                    </Link>\r\n                );\r\n            })}\r\n            {isMore ? (\r\n                <button\r\n                    className={cx('btn')}\r\n                    onClick={() => {\r\n                        setIsMore(false);\r\n                        setListData(data.slice(0, 4));\r\n                    }}\r\n                >\r\n                    <FontAwesomeIcon icon={faChevronUp} />\r\n                </button>\r\n            ) : (\r\n                <button\r\n                    className={cx('btn')}\r\n                    onClick={() => {\r\n                        setIsMore(true);\r\n                        setListData(data);\r\n                    }}\r\n                >\r\n                    <FontAwesomeIcon icon={faChevronDown} />\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Share;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Share_wrapper__jtU6i\",\"item\":\"Share_item__qERxI\",\"icon\":\"Share_icon__VLEix\",\"title\":\"Share_title__PRrOA\",\"btn\":\"Share_btn__ccnmr\"};","import {\r\n    faCircleCheck,\r\n    faCommentDots,\r\n    faHeart,\r\n    faMusic,\r\n    faPause,\r\n    faPlay,\r\n    faShare,\r\n    faVolumeHigh,\r\n    faVolumeXmark,\r\n    faCode,\r\n    faShareNodes,\r\n    faLink,\r\n    faEnvelope,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faFacebookF, faWhatsapp, faTwitter, faTelegram, faLinkedinIn } from '@fortawesome/free-brands-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport classNames from 'classnames/bind';\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useRef, useContext, useMemo } from 'react';\r\nimport Tippy from '@tippyjs/react/headless';\r\nimport 'tippy.js/dist/tippy.css';\r\n\r\nimport Image from '~/components/Image';\r\nimport Button from '~/layouts/Button';\r\nimport Hashtag from '../Hashtag';\r\nimport styles from './VideoItem.module.scss';\r\nimport AccountPreview from '~/components/AccuontPreview';\r\nimport { Wrapper as PopperWrapper } from '~/components/Popper';\r\nimport { Vol } from '~/Context/VolContext';\r\nimport { Play } from '~/Context/PlayContext';\r\nimport Share from '~/components/Share';\r\nimport { Modal } from '~/Context/ModalContext';\r\nimport { Login } from '~/Context/LoginContext';\r\nimport { useLayoutEffect } from 'react';\r\nconst cx = classNames.bind(styles);\r\nconst ListShare = [\r\n    {\r\n        icon: <FontAwesomeIcon icon={faCode} />,\r\n        title: 'Embed',\r\n        bgc: '#161823',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faShareNodes} />,\r\n        title: 'Send to friends',\r\n        bgc: 'rgb(254, 44, 85)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faFacebookF} />,\r\n        title: 'Share to facebook',\r\n        bgc: '#20d5ec',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faWhatsapp} />,\r\n        title: 'Share to whatsApp',\r\n        bgc: 'rgb(37, 211, 102)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faLink} />,\r\n        title: 'Copy link',\r\n        bgc: 'rgb(254, 44, 85)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faTwitter} />,\r\n        title: 'Share to twitter',\r\n        bgc: 'rgb(29, 161, 242)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faLinkedinIn} />,\r\n        title: 'Share to linked',\r\n        bgc: 'rgb(10, 102, 194)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faTelegram} />,\r\n        title: 'Share to Telegram',\r\n        bgc: 'rgb(29, 161, 242)',\r\n    },\r\n    {\r\n        icon: <FontAwesomeIcon icon={faEnvelope} />,\r\n        title: 'Share to whatsApp',\r\n        bgc: 'rgb(29, 161, 242)',\r\n    },\r\n];\r\n\r\nfunction VideoItem({ data }) {\r\n    const { user } = data;\r\n    const { playVideo, setPlayVideo } = useContext(Play);\r\n    const { volume, setVolume } = useContext(Vol);\r\n    const videoRef = useRef(null);\r\n    const [isPlay, setIstPlay] = useState(false);\r\n    const { show } = useContext(Modal);\r\n    const { isLogin } = useContext(Login);\r\n    const [content, setContent] = useState('');\r\n    const [listHashtag, setListHashTag] = useState([]);\r\n    // Handle Content\r\n    const handleContent = () => {\r\n        let desc = data.description;\r\n        if (desc.includes('#')) {\r\n            setListHashTag(desc.split('#').slice(1));\r\n            setContent(desc.substring(0, desc.indexOf('#')));\r\n        } else setContent(desc);\r\n    };\r\n    useLayoutEffect(() => {\r\n        handleContent();\r\n    }, []);\r\n    useMemo(() => {\r\n        if (playVideo && videoRef.current !== null) {\r\n            if (playVideo === data.id) {\r\n                videoRef.current.play();\r\n            } else {\r\n                setIstPlay(false);\r\n                videoRef.current.pause();\r\n                videoRef.current.currentTime = 0;\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [playVideo]);\r\n    const handlePlayOrPause = () => {\r\n        if (isPlay) {\r\n            videoRef.current.pause();\r\n        } else {\r\n            setPlayVideo(data.id);\r\n            videoRef.current.play();\r\n        }\r\n        return setIstPlay(!isPlay);\r\n    };\r\n    const handleChangeVol = (e) => {\r\n        const vol = e.target.value / 100;\r\n        setVolume(vol);\r\n    };\r\n    const handleVol = () => {\r\n        if (volume > 0) {\r\n            setVolume(0);\r\n        } else {\r\n            setVolume(1);\r\n        }\r\n    };\r\n    const renderPreview = (props) => {\r\n        return (\r\n            <div tabIndex=\"-1\" {...props}>\r\n                <PopperWrapper>\r\n                    <AccountPreview data={user} />\r\n                </PopperWrapper>\r\n            </div>\r\n        );\r\n    };\r\n    const renderShare = (props) => {\r\n        return (\r\n            <div tabIndex=\"-1\" {...props}>\r\n                <PopperWrapper>\r\n                    <Share data={ListShare} />\r\n                </PopperWrapper>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <header className={cx('header')}>\r\n                <div className={cx('desc')}>\r\n                    <Tippy\r\n                        interactive\r\n                        delay={[800, 0]}\r\n                        render={renderPreview}\r\n                        placement=\"bottom-start\"\r\n                        offset={[-18, -4]}\r\n                    >\r\n                        <Image className={cx('avatar')} src={user.avatar} alt=\"\" size=\"54px\" />\r\n                    </Tippy>\r\n                    <div className={cx('content')}>\r\n                        <Link to=\"/\" className={cx('info')}>\r\n                            <strong className={cx('nickname')}>{user.nickname}</strong>\r\n                            {user.tick && <FontAwesomeIcon icon={faCircleCheck} className={cx('icon')} />}\r\n                            <p className={cx('name')}>{user.first_name + user.last_name}</p>\r\n                        </Link>\r\n                        <p className={cx('text')}>\r\n                            {content}\r\n                            {listHashtag.map((item, index) => (\r\n                                <Hashtag key={index} className={cx('hashtag')}>\r\n                                    {item}\r\n                                </Hashtag>\r\n                            ))}\r\n                        </p>\r\n                        <Link to=\"/\" className={cx('music')}>\r\n                            <FontAwesomeIcon icon={faMusic} className={cx('icon-music')} />\r\n                            <p>{data.music}</p>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <Button outline onClick={isLogin ? () => {} : show}>\r\n                        Follow\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n            <div className={cx('main')}>\r\n                <div className={cx('place-video')}>\r\n                    <video\r\n                        onTimeUpdate={(e) => {\r\n                            e.target.volume = volume;\r\n                        }}\r\n                        onClick={handlePlayOrPause}\r\n                        ref={videoRef}\r\n                        className={cx('video')}\r\n                        src={data.file_url}\r\n                        onEnded={(e) => {\r\n                            e.target.currentTime = 0;\r\n                            e.target.play();\r\n                        }}\r\n                    />\r\n                    <div className={cx('action')}>\r\n                        <button className={cx('play-or-pause')} onClick={handlePlayOrPause}>\r\n                            {isPlay ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\r\n                        </button>\r\n                        <div className={cx('volume')}>\r\n                            <div className={cx('volume-bar')}>\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={volume * 100} onChange={handleChangeVol} />\r\n                            </div>\r\n                            <button className={cx('vol-icon')} onClick={handleVol}>\r\n                                {volume > 0 ? (\r\n                                    <FontAwesomeIcon icon={faVolumeHigh} />\r\n                                ) : (\r\n                                    <FontAwesomeIcon icon={faVolumeXmark} />\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={cx('place-interactive')}>\r\n                    <button className={cx('heart')}>\r\n                        <FontAwesomeIcon icon={faHeart} />\r\n                    </button>\r\n                    <p className={cx('quantity')}>{data.likes_count}</p>\r\n                    <button className={cx('comment')}>\r\n                        <FontAwesomeIcon icon={faCommentDots} />\r\n                    </button>\r\n                    <p className={cx('quantity')}>{data.comments_count}</p>\r\n                    <Tippy interactive render={renderShare} placement=\"top-start\" offset={[-20, 4]} delay={[0, 400]}>\r\n                        <button className={cx('share')}>\r\n                            <FontAwesomeIcon icon={faShare} />\r\n                        </button>\r\n                    </Tippy>\r\n                    <p className={cx('quantity')}>{data.shares_count}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VideoItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"VideoItem_wrapper__SalTZ\",\"header\":\"VideoItem_header__SUBWJ\",\"desc\":\"VideoItem_desc__7bhcs\",\"avatar\":\"VideoItem_avatar__9o5RU\",\"content\":\"VideoItem_content__+hHVp\",\"info\":\"VideoItem_info__7ZeOn\",\"nickname\":\"VideoItem_nickname__jf8g7\",\"icon\":\"VideoItem_icon__v9sA5\",\"name\":\"VideoItem_name__9XAqA\",\"text\":\"VideoItem_text__ruIx3\",\"hashtag\":\"VideoItem_hashtag__Oloms\",\"music\":\"VideoItem_music__N-ghC\",\"icon-music\":\"VideoItem_icon-music__9eSql\",\"main\":\"VideoItem_main__Ou-lo\",\"place-video\":\"VideoItem_place-video__2aHot\",\"video\":\"VideoItem_video__Y9-WQ\",\"action\":\"VideoItem_action__Yd427\",\"play-or-pause\":\"VideoItem_play-or-pause__lRTuS\",\"volume\":\"VideoItem_volume__RQjU0\",\"volume-bar\":\"VideoItem_volume-bar__orlnG\",\"vol-icon\":\"VideoItem_vol-icon__Z7PqU\",\"place-interactive\":\"VideoItem_place-interactive__QGMbe\",\"heart\":\"VideoItem_heart__DH5m-\",\"comment\":\"VideoItem_comment__sf8C9\",\"share\":\"VideoItem_share__2FPy7\",\"quantity\":\"VideoItem_quantity__79aIW\"};","import * as request from '~/untils/request';\r\n\r\nexport const VideoApi = async (page = 1, type = 'for-you') => {\r\n    try {\r\n        const res = await request.get('videos', {\r\n            params: {\r\n                page,\r\n                type,\r\n            },\r\n        });\r\n        return res.data;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n","import classNames from 'classnames/bind';\r\nimport VideoItem from '~/components/VideoItem';\r\nimport styles from './Home.module.scss';\r\nimport { memo, useEffect, useRef, useState } from 'react';\r\nimport { VideoApi } from '~/services/videoServices';\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction HomePage() {\r\n    const [data, setData] = useState([]);\r\n    const [count, setCount] = useState(1);\r\n    const homeRef = useRef();\r\n    const getVideo = async (type = 'for-you') => {\r\n        window.removeEventListener('scroll', handleLoadVideo);\r\n        const data = await VideoApi(count, type);\r\n        console.log(count);\r\n\r\n        setData((prev) => {\r\n            return [...prev, ...data];\r\n        });\r\n\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n    };\r\n    useEffect(() => {\r\n        getVideo('for-you');\r\n        window.addEventListener('scroll', handleLoadVideo);\r\n\r\n        return window.removeEventListener('scroll', handleLoadVideo);\r\n    }, [count]);\r\n    const handleLoadVideo = () => {\r\n        let height = homeRef.current.scrollHeight;\r\n        if (height > 0 && document.documentElement.scrollTop > height - 900) {\r\n            setCount(count + 1);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={cx('home')} ref={homeRef}>\r\n            {data.map((data, index) => {\r\n                return <VideoItem key={index} data={data} />;\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default memo(HomePage);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"Home_home__gGfTK\"};"],"names":["cx","classNames","styles","data","show","user","useContext","Modal","volume","Vol","videoRef","useRef","to","className","onMouseMove","current","play","onMouseOut","pause","src","popular_video","file_url","onTimeUpdate","e","target","ref","Image","avatar","size","first_name","last_name","nickname","tick","icon","faCheck","Button","primary","onClick","useState","setData","count","setCount","followingRef","getFollowing","window","removeEventListener","handleLoadVideo","getAccount","console","log","prev","addEventListener","useEffect","height","scrollHeight","document","documentElement","scrollTop","isLogin","Login","Fragment","Home","map","index","slice","listData","setListData","isMore","setIsMore","item","style","backgroundColor","bgc","title","faChevronUp","faChevronDown","ListShare","faCode","faShareNodes","faFacebookF","faWhatsapp","faLink","faTwitter","faLinkedinIn","faTelegram","faEnvelope","Play","playVideo","setPlayVideo","setVolume","isPlay","setIstPlay","content","setContent","listHashtag","setListHashTag","useLayoutEffect","desc","description","includes","split","substring","indexOf","handleContent","useMemo","id","currentTime","handlePlayOrPause","interactive","delay","render","props","tabIndex","Popper","placement","offset","alt","faCircleCheck","Hashtag","faMusic","music","outline","onEnded","faPause","faPlay","type","min","max","value","onChange","vol","faVolumeHigh","faVolumeXmark","faHeart","likes_count","faCommentDots","comments_count","faShare","shares_count","VideoApi","page","request","params","res","HomePage","homeRef","getVideo","memo"],"sourceRoot":""}